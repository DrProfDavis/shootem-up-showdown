{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { HexUtils } from \"./HexUtils\";\nimport { useLayoutContext } from \"./Layout\";\n/**\n * Renders an svg `<path>` component with points on the grid between a qrs-based `start` and `end` coordinates.\n */\nexport function Path(_a) {\n  var {\n      start,\n      end\n    } = _a,\n    props = __rest(_a, [\"start\", \"end\"]);\n  const {\n    layout\n  } = useLayoutContext();\n  // TODO Refactor\n  function getPoints() {\n    if (!start || !end) {\n      return \"\";\n    }\n    // Get all the intersecting hexes between start and end points\n    let distance = HexUtils.distance(start, end);\n    let intersects = [];\n    let step = 1.0 / Math.max(distance, 1);\n    for (let i = 0; i <= distance; i++) {\n      intersects.push(HexUtils.round(HexUtils.hexLerp(start, end, step * i)));\n    }\n    // Construct Path points out of all the intersecting hexes (e.g. M 0,0 L 10,20, L 30,20)\n    let points = \"M\";\n    points += intersects.map(hex => {\n      let p = HexUtils.hexToPixel(hex, layout);\n      return ` ${p.x},${p.y} `;\n    }).join(\"L\");\n    return points;\n  }\n  return _jsx(\"path\", Object.assign({}, props, {\n    d: getPoints()\n  }));\n}\nexport default Path;","map":{"version":3,"names":["HexUtils","useLayoutContext","Path","_a","start","end","props","__rest","layout","getPoints","distance","intersects","step","Math","max","i","push","round","hexLerp","points","map","hex","p","hexToPixel","x","y","join","_jsx","Object","assign","d"],"sources":["../src/Path.tsx"],"sourcesContent":[null],"mappings":";;;;;;;;;AACA,SAASA,QAAQ,QAAQ,YAAY;AACrC,SAASC,gBAAgB,QAAQ,UAAU;AAQ3C;;;AAGA,OAAM,SAAUC,IAAIA,CAACC,EAAmC;MAAnC;MAAEC,KAAK;MAAEC;IAAG,IAAAF,EAAuB;IAAlBG,KAAK,GAAAC,MAAA,CAAAJ,EAAA,EAAtB,gBAAwB,CAAF;EACzC,MAAM;IAAEK;EAAM,CAAE,GAAGP,gBAAgB,EAAE;EACrC;EACA,SAASQ,SAASA,CAAA;IAChB,IAAI,CAACL,KAAK,IAAI,CAACC,GAAG,EAAE;MAClB,OAAO,EAAE;;IAGX;IACA,IAAIK,QAAQ,GAAGV,QAAQ,CAACU,QAAQ,CAACN,KAAK,EAAEC,GAAG,CAAC;IAC5C,IAAIM,UAAU,GAAU,EAAE;IAC1B,IAAIC,IAAI,GAAG,GAAG,GAAGC,IAAI,CAACC,GAAG,CAACJ,QAAQ,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIL,QAAQ,EAAEK,CAAC,EAAE,EAAE;MAClCJ,UAAU,CAACK,IAAI,CAAChB,QAAQ,CAACiB,KAAK,CAACjB,QAAQ,CAACkB,OAAO,CAACd,KAAK,EAAEC,GAAG,EAAEO,IAAI,GAAGG,CAAC,CAAC,CAAC,CAAC;;IAGzE;IACA,IAAII,MAAM,GAAG,GAAG;IAChBA,MAAM,IAAIR,UAAU,CACjBS,GAAG,CAAEC,GAAG,IAAI;MACX,IAAIC,CAAC,GAAGtB,QAAQ,CAACuB,UAAU,CAACF,GAAG,EAAEb,MAAM,CAAC;MACxC,OAAO,IAAIc,CAAC,CAACE,CAAC,IAAIF,CAAC,CAACG,CAAC,GAAG;IAC1B,CAAC,CAAC,CACDC,IAAI,CAAC,GAAG,CAAC;IAEZ,OAAOP,MAAM;EACf;EAEA,OAAOQ,IAAA,SAAAC,MAAA,CAAAC,MAAA,KAAUvB,KAAK;IAAEwB,CAAC,EAAErB,SAAS;EAAE,GAAS;AACjD;AAEA,eAAeP,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}